<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="saruter">
  <link rel="canonical" href="https://smarthome.ms1.de/projekte/tasterschaltung/">
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>Eltako Stromstoßrelais durch Shelly 1PM ersetzen - Smarthome Doku</title>
  <link rel="stylesheet" href="https://fonts.geekzu.org/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../../css/theme.css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Eltako Stromsto\u00dfrelais durch Shelly 1PM ersetzen";
    var mkdocs_page_input_path = "projekte/tasterschaltung.md";
    var mkdocs_page_url = "/projekte/tasterschaltung/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Smarthome Doku</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Projekte</span></p>
                <ul class="current">
                    <li class="toctree-l1"><a class="reference internal" href="../Solvis%20Heizung/">Solvis Heizung via Modbus auslesen</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../feinstaubsensor/">Feinstaubsensor mit ESP8266 und Home Assistant</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../gasverbrauch/">Gaszähler mit ESP8266 und Home Assistant auslesen</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../stromverbrauch/">(digitalen) Stromzähler mit ESP8266 auslesen</a>
                    </li>
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">Eltako Stromstoßrelais durch Shelly 1PM ersetzen</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#benotigte-hardware">benötigte Hardware</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#konfiguration-shelly-1pm">Konfiguration Shelly 1PM</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#home-assistant">Home Assistant</a>
    </li>
    </ul>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Smarthome Doku</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Projekte &raquo;</li>
        
      
    
    <li>Eltako Stromstoßrelais durch Shelly 1PM ersetzen</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="eltako-stromstorelais-durch-shelly-1pm-ersetzen">Eltako Stromstoßrelais durch Shelly 1PM ersetzen</h1>
<p><strong> Achtung! Arbeiten an 230V können tödlich sein. Falls kein Know-How vorhanden ist, lieber einen Elektroinstallateur beauftragen! </strong> </p>
<p>Durch ein Shelly 1PM wird eine Tasterschaltung für Flurlicht smart über Home Assistant steuerbar. Zusätzlich kann der Stromverbrauch gemessen werden.
Eingesetzt wurden Shelly 1PM mit der Original Firmware ohne Aktivierung der Cloud-Anbindung. Anbindung an Home Assistant via MQTT welches nativ in der Firmware enthalten ist.
Vorteil der Shelly1PM: man kann weiterhin über die vorhandenen 230V Tasterschalter das Licht an und aus schalten.</p>
<p><img alt="Shelly1PM" src="../../img/Shelly1PMRelais.jpg" /></p>
<p><img alt="HomeAssistant Shelly1PM" src="../../img/HassShelly1PM.png" /></p>
<h2 id="benotigte-hardware">benötigte Hardware</h2>
<ul>
<li><a href="https://shelly.cloud">Shelly 1PM</a></li>
<li><a href="https://www.hornbach.de/shop/Wago-221-413-Compact-Verbindungsklemme-4-mm-3-Leiter-alle-Leiterarten-50-Stueck/5723506/artikel.html">Wago Klemmen</a></li>
<li>etwas Kabel</li>
<li>Know How</li>
</ul>
<h2 id="konfiguration-shelly-1pm">Konfiguration Shelly 1PM</h2>
<p>Damit der Shelly 1 PM als Stromstoßrelais fungiert, muss der Button-Type auf "Momentary" eingestellt werden.
<img alt="Shelly1pmconfig" src="../../img/shelly1pmconfig.png" /></p>
<h2 id="home-assistant">Home Assistant</h2>
<p>Zur automatischen Erkennung von Shelly Devices nutze ich das Shelly Discovery Skript von hier:</p>
<ul>
<li><a href="https://community.home-assistant.io/t/shellies-discovery-script/94048">Shelly Discovery Skript</a></li>
</ul>
<p><img alt="HomeAssistant Shelly1PM" src="../../img/HassShelly1PM.png" /></p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="../stromverbrauch/" class="btn btn-neutral" title="(digitalen) Stromzähler mit ESP8266 auslesen"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
      <p>Copyright 2019-2020 - saruter. Creative Commons Attribution 4.0.</p>
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a theme provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

    <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../stromverbrauch/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
    </span>
</div>
  </div>

  
    <div>
      <a href="https://github.com/saruter/smarthome" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
    </div>
  
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>
    <script type="text/javascript" defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
